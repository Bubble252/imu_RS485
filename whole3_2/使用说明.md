# å®Œæ•´å¯åŠ¨æµç¨‹

## 1ï¸âƒ£ éƒ¨ç½²Bï¼ˆä»…é¦–æ¬¡éœ€è¦ï¼‰

```bash
./deploy_to_target_server.sh
```

## 2ï¸âƒ£ ç»ˆç«¯1ï¼šSSHåˆ°æœåŠ¡å™¨å¹¶å»ºç«‹é€šé“ + è¿è¡ŒB

âš ï¸ **é‡è¦ï¼šè¿™ä¸ªç»ˆç«¯éœ€è¦ä¿æŒæ‰“å¼€ï¼Œä¸è¦å…³é—­ï¼**

```bash
# å»ºç«‹ SSH éš§é“å¹¶ç™»å½•æœåŠ¡å™¨ï¼ˆâ­ æ–°å¢éŸ³é¢‘ç«¯å£ 5559/5561ï¼‰
ssh -i ./capri_yhx_2237 -p 2237 \
    -o "ProxyCommand ssh -i ./leo_tmp_2258.txt -p 2258 -W %h:%p root@202.112.113.78" \
    -L 5555:localhost:5555 \
    -L 5556:localhost:5556 \
    -L 5557:localhost:5557 \
    -L 5558:localhost:5558 \
    -L 5559:localhost:5559 \
    -L 5561:localhost:5561 \
    root@202.112.113.74

# ç™»å½•åï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š
conda activate lerobot_server
cd /data7/yhx/lerobot_data_collection
./start_b_voice.sh  # â­ ä½¿ç”¨éŸ³é¢‘ç‰ˆæœ¬

# B ä¼šåœ¨è¿™ä¸ªç»ˆç«¯è¿è¡Œï¼Œä¿æŒæ‰“å¼€ï¼
```

## 3ï¸âƒ£ ç»ˆç«¯2ï¼šéªŒè¯éš§é“ + è¿è¡ŒAï¼ˆæœ¬åœ°ï¼‰

```bash
# éªŒè¯ SSH éš§é“æ˜¯å¦å»ºç«‹ï¼ˆâ­ ç°åœ¨åº”è¯¥æœ‰ 6 ä¸ªç«¯å£ï¼‰
ss -tuln | grep -E "5555|5556|5557|5558|5559|5561"
# åº”è¯¥çœ‹åˆ° 6 ä¸ªç«¯å£åœ¨ 127.0.0.1 ä¸Šç›‘å¬

# è¿è¡Œ A ç«¯ï¼ˆâ­ æ–°å¢éŸ³é¢‘å‚æ•°ï¼‰
cd ~/æ¡Œé¢/WIT_RS485
python triple_imu_rs485_publisher_dual_cam_UI_voice.py \
    --online-only \
    --b-host localhost --b-port 5555 \
    --enable-video --video-host localhost --video-port 5557 \
    --enable-audio --audio-host localhost --audio-port 5561 \
    -p /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0 \
    --enable-debug --debug-port 5560
```

## 4ï¸âƒ£ ç»ˆç«¯3ï¼šè¿è¡ŒCï¼ˆæœ¬åœ°ï¼‰

```bash
cd ~/æ¡Œé¢/WIT_RS485/whole3_2
python C_real_video_audio.py  # â­ ä½¿ç”¨éŸ³é¢‘ç‰ˆæœ¬

# åº”è¯¥èƒ½çœ‹åˆ°ï¼ˆå¯¹ç€éº¦å…‹é£è¯´è¯ï¼‰ï¼š
# [å‘½ä»¤çº¿ç¨‹] å·²æ¥æ”¶ 10 æ¡å‘½ä»¤
# [éŸ³é¢‘å‘é€çº¿ç¨‹] å·²å‘é€ 50 å¸§, FPS: 16.5, é˜Ÿåˆ—: 2/20  â­ ç‹¬ç«‹éŸ³é¢‘
# [è§†é¢‘å‘é€çº¿ç¨‹] å·²å‘é€ 20 å¸§, FPS: 7.9, éŸ³é¢‘é˜Ÿåˆ—: 2  â­ é˜Ÿåˆ—ä¸æ»¡
```

## âš™ï¸ å¯é€‰ï¼šä½¿ç”¨åå°éš§é“

å¦‚æœæƒ³è®© B åœ¨æœåŠ¡å™¨åå°è¿è¡Œï¼Œå¯ä»¥ï¼š

### æ–¹æ³•1ï¼šåˆ›å»ºåå°éš§é“

```bash
# åœ¨æœ¬åœ°åˆ›å»ºåå°éš§é“ï¼ˆ-f åå°ï¼Œ-N ä¸æ‰§è¡Œå‘½ä»¤ï¼‰
ssh -f -N \
    -i ./capri_yhx_2237 -p 2237 \
    -o "ProxyCommand ssh -i ./leo_tmp_2258.txt -p 2258 -W %h:%p root@202.112.113.78" \
    -L 5555:localhost:5555 \
    -L 5556:localhost:5556 \
    -L 5557:localhost:5557 \
    -L 5558:localhost:5558 \
    -L 5559:localhost:5559 \
    -L 5561:localhost:5561 \
    root@202.112.113.74

# éªŒè¯éš§é“
ss -tuln | grep 5555

# ç„¶åå•ç‹¬ç™»å½•æœåŠ¡å™¨è¿è¡Œ B
./connect.sh
conda activate lerobot_server
cd /data7/yhx/lerobot_data_collection
./start_b_background.sh  # æˆ– nohup ./start_b_whole.sh &
```

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### æ£€æŸ¥éš§é“çŠ¶æ€
```bash
ss -tuln | grep -E "5555|5556|5557|5558"
ps aux | grep ssh | grep 5555
```

### é‡å¯ç³»ç»Ÿ
```bash
# 1. æ€æ‰æ‰€æœ‰è¿›ç¨‹
pkill -f "A_real_video.py"
pkill -f "C_real_video"
pkill -f "ssh.*5555"

# 2. é‡æ–°å»ºç«‹éš§é“å’Œè¿è¡Œç¨‹åº
# æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ 2-4 æ‰§è¡Œ
```





```bash
 python triple_imu_rs485_publisher_dual_cam_UI.py   --online-only   --b-host localhost --b-port 5555   --enable-video --video-host localhost --video-port 5557   -p /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0   --enable-debug --debug-port 5560
 ```




 ```bash
 python triple_imu_rs485_publisher_dual_cam_UI_voice.py   --online-only   --b-host localhost --b-port 5555   --enable-video --video-host localhost --video-port 5557   -p /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0   --enable-debug --debug-port 5560 --enable-audio
 ```


```bash
python triple_imu_rs485_publisher_dual_cam_UI_voice.py \
  --online-only \
  --b-host localhost --b-port 5555 \
  --enable-video --video-host localhost --video-port 5557 \
  -p /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0 \
  --enable-debug --debug-port 5560 \
  --enable-audio  # â† ç°åœ¨å¯ä»¥æ”¶åˆ°éŸ³é¢‘äº†
```



